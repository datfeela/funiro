"use strict";const isMobile={Android:function(){return navigator.userAgent.match(/Android/i)},BlackBerry:function(){return navigator.userAgent.match(/BlackBerry/i)},iOS:function(){return navigator.userAgent.match(/iPhone|iPad|iPod/i)},Opera:function(){return navigator.userAgent.match(/Opera Mini/i)},Windows:function(){return navigator.userAgent.match(/IEMobile/i)},any:function(){return isMobile.Android()||isMobile.BlackBerry()||isMobile.iOS()||isMobile.Opera()||isMobile.Windows()}};document.addEventListener("DOMContentLoaded",(e=>{console.log("DOM loaded"),document.addEventListener("click",(e=>{e.target.closest("a")&&e.preventDefault();//!контрю переход по ссылке, убрать позже
}));const t=document.querySelector(".header__menu");t.addEventListener("click",(function(e){const s=e.target;if(document.documentElement.clientWidth>768)if(!s.closest(".menu__sub-list")&&s.closest(".menu__item._hover"))s.closest(".menu__item").classList.toggle("_hover");else if(s.closest(".menu__item")){let e=t.querySelector(".menu__item._hover");e&&e.classList.remove("_hover"),s.closest(".menu__item").classList.toggle("_hover")}})),document.addEventListener("click",(e=>{const t=e.target,s=document.querySelector("._hover");t.closest(".menu__item")||null==s||s.classList.remove("_hover")})),$(".menu__arrow").click((function(){document.documentElement.clientWidth<=768&&($(this).next(".menu__sub-list").slideToggle(),$(this).toggleClass("_active"))})),$(window).resize((function(){document.documentElement.clientWidth>768&&($(".menu__sub-list").css("display","block"),$(".menu__arrow").hasClass("_active")&&$(".menu__arrow").removeClass("_active")),document.documentElement.clientWidth<768&&($(".menu__arrow").hasClass("_active")||$(".menu__sub-list").css("display","none"))}));const s=document.querySelector(".search-form");s.addEventListener("click",(e=>{e.target.closest(".search-form__button_lowres")&&s.classList.toggle("_active")})),document.addEventListener("click",(e=>{const t=e.target,s=document.querySelector(".search-form");!t.closest(".search-form")&&s.classList.contains("_active")&&s.classList.remove("_active")}));document.querySelector(".burger").addEventListener("click",(e=>{t.classList.toggle("_active")}));const i=document.querySelector(".header");new IntersectionObserver((function(e,t){e[0].isIntersecting?i.classList.remove("_scroll"):i.classList.add("_scroll")})).observe(i);class o{constructor(e){this.sliderWrap=e.sliderWrap,this.nextBtn=e.nextBtn,this.prevBtn=e.prevBtn,this.sliderPos=e.sliderPos,this.isDragging=!1,this.startPos,this.slidesPerSwipe=e.slidesPerSwipe,this.currentTranslate,this.prevTranslate=0,this.startTime,this.endTime,this.activeDot=e.activeDot,this.sliderPages=e.sliderPages,this.activePage,this.dots=e.dots,this.sliderName=e.sliderName}touchStart(e){this.startPos=this.getPositionX(e),this.isDragging=!0,this.startTime=(new Date).getTime()}touchMove(e){if(this.isDragging){const t=this.getPositionX(e);this.currentTranslate=this.prevTranslate+t-this.startPos}}touchEnd(){this.isDragging=!1;const e=this.currentTranslate-this.prevTranslate;this.endTime=(new Date).getTime()-this.startTime,e<-150&&this.endTime<400&&this.swipeRight(),e>150&&this.endTime<400&&this.swipeLeft()}getPositionX(e){return e.type.includes("mouse")?e.pageX:e.touches[0].clientX}swipeRight(){this.sliderPos<Math.ceil(this.sliderWrap.childElementCount/this.slidesPerSwipe)-1&&(this.sliderPos+=1,this.swipeSlider(),this.changeActiveSlide())}swipeLeft(){this.sliderPos>0&&(this.sliderPos-=1,this.swipeSlider(),this.changeActiveSlide())}swipeOnDot(e){if(e.target.classList.contains(`controls-${this.sliderName}__dot`)&&!e.target.classList.contains("_active")){this.activeDot.classList.remove("_active"),e.target.classList.add("_active");let t=this.dots.firstElementChild.id.length-1;this.activeDot=e.target,this.sliderPos=e.target.id.slice(t)-1,this.sliderWrap.style.transform=`translateX(${this.sliderPos*-this.calcSlideWidth()*this.slidesPerSwipe}px)`,this.changeActiveSlide(),this.blockButtons()}}calcSlideWidth(){let e=getComputedStyle(this.activePage).width;e=e.slice(0,3);let t=getComputedStyle(this.activePage).marginRight;return t=t.slice(0,2),e=+e+ +t,e}swipeSlider(){this.sliderWrap.style.transform=`translateX(${this.sliderPos*-this.calcSlideWidth()*this.slidesPerSwipe}px)`,this.activeDot.classList.remove("_active"),this.activeDot=document.querySelector(`.controls-${this.sliderName}__dot_${this.sliderPos+1}`),this.activeDot.classList.add("_active"),this.blockButtons(),console.log("this.sliderPos: ",this.sliderPos)}changeActiveSlide(){this.activePage.classList.remove("_active"),this.activePage=document.getElementById(`${this.sliderName}-page-${this.sliderPos*this.slidesPerSwipe+1}`),this.activePage.classList.add("_active"),console.log("this.activePage: ",this.activePage)}blockButtons(){switch(this.sliderPos){case 0:this.prevBtn.classList.contains("_blocked")||this.prevBtn.classList.add("_blocked"),this.nextBtn.classList.contains("_blocked")&&this.nextBtn.classList.remove("_blocked");break;case Math.ceil(this.sliderWrap.childElementCount/this.slidesPerSwipe)-1:this.nextBtn.classList.contains("_blocked")||this.nextBtn.classList.add("_blocked"),this.prevBtn.classList.contains("_blocked")&&this.prevBtn.classList.remove("_blocked");break;default:this.nextBtn.classList.contains("_blocked")&&this.nextBtn.classList.remove("_blocked"),this.prevBtn.classList.contains("_blocked")&&this.prevBtn.classList.remove("_blocked")}}hideDots(){let e=Array.from(this.dots.children),t=Math.ceil(e.length/this.slidesPerSwipe);for(let s=t;s<e.length;s++)e[s].style.display="none";for(let s=0;s<t;s++)e[s].style.display="block";this.dots.style.width=11*t+20*(t-1)+"px"}}r(document.querySelectorAll(".slider-main__page"),document.querySelector(".slider-main__controls"),"slider-dots controls-slider-main__dots","slider-dots__dot controls-slider-main__dot controls-slider-main__dot_","sliderMainDot");const n=new o({sliderWrap:document.querySelector(".slider-main__wrapper"),nextBtn:document.querySelector("#main-slider-arrow-right"),prevBtn:document.querySelector("#main-slider-arrow-left"),sliderPos:0,slidesPerSwipe:1,activeDot:document.querySelector(".controls-slider-main__dot_1"),sliderPages:Array.from(document.querySelectorAll(".slider-main__page")),dots:document.querySelector(".controls-slider-main__dots"),sliderName:"slider-main"});function r(e,t,s,i,o){const n=e.length,r=t;let c=document.createElement("div");c.className=`${s}`,c.style.width=27+20*(n-1)+11*(n-1)+"px";for(let e=0;e<n;e++){let t=document.createElement("div");t.className=`${i}${e+1}`,t.id=`${o}${e+1}`,c.append(t)}r.prepend(c)}n.activePage=n.sliderPages[0],n.activePage.classList.add("_active"),n.activeDot.classList.add("_active"),setTimeout((()=>{n.swipeRight()}),1e3),n.nextBtn.addEventListener("click",(()=>{n.swipeRight()})),n.prevBtn.addEventListener("click",(()=>{n.swipeLeft()})),n.dots.addEventListener("click",(e=>{n.swipeOnDot(e)})),n.sliderWrap.addEventListener("touchstart",(e=>{n.touchStart(e)})),n.sliderWrap.addEventListener("touchmove",(e=>{n.touchMove(e)})),n.sliderWrap.addEventListener("touchend",(()=>{n.touchEnd()})),n.sliderWrap.addEventListener("mousedown",(e=>{n.touchStart(e)})),n.sliderWrap.addEventListener("mouseup",(()=>{n.touchEnd()})),n.sliderWrap.addEventListener("mouseleave",(()=>{n.touchEnd()})),n.sliderWrap.addEventListener("mousemove",(e=>{n.touchMove(e)})),$(window).resize((function(){n.sliderWrap.style.transform=`translateX(${n.sliderPos*-n.calcSlideWidth()}px)`})),n.sliderPages.forEach((e=>{e.querySelector("img").addEventListener("dragstart",(e=>e.preventDefault()))})),r(document.querySelectorAll(".slider-rooms__page"),document.querySelector(".slider-rooms__controls"),"slider-dots controls-slider-rooms__dots","slider-dots__dot controls-slider-rooms__dot controls-slider-rooms__dot_","sliderRoomsDot");const c=new o({sliderWrap:document.querySelector(".slider-rooms__wrapper"),nextBtn:document.querySelector("#rooms-slider-arrow-right"),prevBtn:document.querySelector("#rooms-slider-arrow-left"),sliderPos:0,slidesPerSwipe:1,activeDot:document.querySelector(".controls-slider-rooms__dot_1"),sliderPages:Array.from(document.querySelectorAll(".slider-rooms__page")),dots:document.querySelector(".controls-slider-rooms__dots"),sliderName:"slider-rooms"});c.activePage=c.sliderPages[0],c.activeDot.classList.add("_active"),c.activePage.classList.add("_active"),c.dots.children[0].style.opacity="0",c.dots.children[c.dots.childElementCount-1].style.opacity="0",c.dots.children[c.dots.childElementCount-2].style.opacity="0",c.dots.children[c.dots.childElementCount-3].style.opacity="0",setTimeout((()=>{c.swipeRight()}),1e3),c.calcSlideWidth=()=>{let e;e=c.activePage.nextElementSibling?getComputedStyle(c.activePage.nextElementSibling).width:getComputedStyle(c.activePage.previousElementSibling).width,e=e.slice(0,3);let t=getComputedStyle(c.activePage).marginRight;return t=t.slice(0,2),e=+e+ +t,e},c.swipeRight=()=>{c.unlockAnimations(),c.sliderPos<c.sliderWrap.childElementCount-4?(c.sliderPos+=1,c.swipeSlider(),c.changeActiveSlide()):c.nextBtn.classList.contains("_blocked")||(c.sliderPos+=1,c.swipeSlider(),c.changeActiveSlide(),setTimeout((()=>{c.lockAnimations(),c.sliderPos=1,c.swipeSlider(),c.changeActiveSlide()}),600))},c.swipeLeft=()=>{c.unlockAnimations(),c.sliderPos>1?(c.sliderPos-=1,c.swipeSlider(),c.changeActiveSlide()):c.nextBtn.classList.contains("_blocked")||(c.sliderPos-=1,c.swipeSlider(),c.changeActiveSlide(),setTimeout((()=>{c.lockAnimations(),c.sliderPos=6,c.swipeSlider(),c.changeActiveSlide()}),600))},c.blockButtons=()=>{switch(c.sliderPos){case 0:c.prevBtn.classList.contains("_blocked")||c.prevBtn.classList.add("_blocked"),c.nextBtn.classList.contains("_blocked")||c.nextBtn.classList.add("_blocked");break;case c.sliderWrap.childElementCount-3:c.nextBtn.classList.contains("_blocked")||c.nextBtn.classList.add("_blocked"),c.prevBtn.classList.contains("_blocked")||c.prevBtn.classList.add("_blocked");break;default:c.nextBtn.classList.contains("_blocked")&&c.nextBtn.classList.remove("_blocked"),c.prevBtn.classList.contains("_blocked")&&c.prevBtn.classList.remove("_blocked")}},c.lockAnimations=()=>{c.sliderWrap.style.transition="none",$(".page-slider-rooms__image").css("transition","none"),$(".page-slider-rooms__content").css("transition","none")},c.unlockAnimations=()=>{c.sliderWrap.style.transition="",$(".page-slider-rooms__image").css("transition",""),$(".page-slider-rooms__content").css("transition","")},c.nextBtn.addEventListener("click",(()=>{c.swipeRight()})),c.prevBtn.addEventListener("click",(()=>{c.swipeLeft()})),c.dots.addEventListener("click",(e=>{c.swipeOnDot(e)})),c.sliderWrap.addEventListener("touchstart",(e=>{c.touchStart(e)})),c.sliderWrap.addEventListener("touchmove",(e=>{c.touchMove(e)})),c.sliderWrap.addEventListener("touchend",(()=>{c.touchEnd()})),c.sliderWrap.addEventListener("mousedown",(e=>{c.touchStart(e)})),c.sliderWrap.addEventListener("mouseup",(()=>{c.touchEnd()})),c.sliderWrap.addEventListener("mouseleave",(()=>{c.touchEnd()})),c.sliderWrap.addEventListener("mousemove",(e=>{c.touchMove(e)})),$(window).resize((function(){setTimeout((()=>{c.sliderWrap.style.transform=`translateX(${c.sliderPos*-c.calcSlideWidth()}px)`}),1500)})),c.sliderPages.forEach((e=>{e.querySelector("img").addEventListener("dragstart",(e=>e.preventDefault()))})),r(document.querySelectorAll(".slider-tips__page"),document.querySelector(".slider-tips__controls"),"slider-dots controls-slider-tips__dots","slider-dots__dot controls-slider-tips__dot controls-slider-tips__dot_","sliderTipsDot");let l=3;document.documentElement.clientWidth<1350&&(l=2);const d=new o({sliderWrap:document.querySelector(".slider-tips__wrapper"),nextBtn:document.querySelector("#tips-slider-arrow-right"),prevBtn:document.querySelector("#tips-slider-arrow-left"),sliderPos:0,slidesPerSwipe:l,activeDot:document.querySelector(".controls-slider-tips__dot_1"),sliderPages:Array.from(document.querySelectorAll(".slider-tips__page")),dots:document.querySelector(".controls-slider-tips__dots"),sliderName:"slider-tips"});d.activePage=d.sliderPages[0],d.activeDot.classList.add("_active"),d.activePage.classList.add("_active"),d.blockButtons(),d.hideDots(),d.nextBtn.addEventListener("click",(()=>{d.swipeRight()})),d.prevBtn.addEventListener("click",(()=>{d.swipeLeft()})),d.dots.addEventListener("click",(e=>{d.swipeOnDot(e)})),d.sliderWrap.addEventListener("touchstart",(e=>{d.touchStart(e)})),d.sliderWrap.addEventListener("touchmove",(e=>{d.touchMove(e)})),d.sliderWrap.addEventListener("touchend",(()=>{d.touchEnd()})),d.sliderWrap.addEventListener("mousedown",(e=>{d.touchStart(e)})),d.sliderWrap.addEventListener("mouseup",(()=>{d.touchEnd()})),d.sliderWrap.addEventListener("mouseleave",(()=>{d.touchEnd()})),d.sliderWrap.addEventListener("mousemove",(e=>{d.touchMove(e)})),$(window).resize((function(){d.sliderWrap.style.transform=`translateX(${d.sliderPos*-d.calcSlideWidth()*d.slidesPerSwipe}px)`,document.documentElement.clientWidth>1350&&3!=d.slidesPerSwipe&&(d.slidesPerSwipe=3,d.hideDots(),d.sliderPos=0,d.swipeSlider()),document.documentElement.clientWidth>=700&&document.documentElement.clientWidth<=1350&&2!=d.slidesPerSwipe&&(d.slidesPerSwipe=2,d.hideDots(),d.sliderPos=0,d.swipeSlider()),document.documentElement.clientWidth<700&&1!=d.slidesPerSwipe&&(d.slidesPerSwipe=1,d.sliderPos=0,d.swipeSlider())})),d.sliderPages.forEach((e=>{e.querySelector("img").addEventListener("dragstart",(e=>e.preventDefault()))}));//!fix!!!!
const a=document.querySelector(".products");let u=0;function p(){_.classList.remove("_active"),_.classList.remove("_opened"),m.style.opacity="0",m.style.visibility="hidden"}a.addEventListener("click",(function(e){e.target.closest(".products__load-more-button")&&async function(e){if(!e.classList.contains("_hold")){e.classList.add("_hold");const t="../json/products.json";let s=await fetch(t,{method:"GET"});if(s.ok){!function(e,t){const s=document.querySelector(".products__items");if(u>=e.products.length)return void t.classList.add("_blocked");let i=0;for(let o=u;o<u+4;o++){let n=e.products[o];const r=n.id,c=n.image,l=n.title,d=n.text,a=n.price,p=n.priceOld,_=n.shareUrl,m=n.labels;let h=`<div data-prodid="${r}" class="products__product product">`,v="</div>",g="";if(m){let e='<div class="product__labels">',t="</div>",s="";m.forEach((e=>{s+=`<div class="product__label product__label_${e.type}">${e.value}</div>`})),g+=e,g+=s,g+=t}let L=`\n            <img class="product__image" src="${c}" alt="${l}" />\n            `,y="",S=`\n            <h2 class="product__title">${l}</h2>\n            <span class="product__description">${d}</span>\n\t        `,w="",b=`<span class="product__price">Rp ${a}</span>`,E=`<span class="product__old-price">Rp ${p}</span>`;w='<div class="product__prices">',w+=b,p&&(w+=E),w+="</div>",y+='<div class="product__content">',y+=S,y+=w,y+="</div>";let f=`\n            <div class="product__popup popup-product">\n                <div class="popup-product__actions">\n                    <a href="" class="popup-product__button">Add to cart</a>\n                    <a href="${_}" class="popup-product__link">\n                        <svg\n                            class="popup-product__icon popup-product__icon_share"\n                            viewBox="0 0 18 20"\n                            xmlns="http://www.w3.org/2000/svg"\n                        >\n                            <path\n                                d="M15 14C14.212 14 13.5 14.31 12.966 14.807L5.91 10.7C5.96 10.47 6 10.24 6 10C6 9.76 5.96 9.53 5.91 9.3L12.96 5.19C13.5 5.69 14.21 6 15 6C16.66 6 18 4.66 18 3C18 1.34 16.66 0 15 0C13.34 0 12 1.34 12 3C12 3.24 12.04 3.47 12.09 3.7L5.04 7.81C4.5 7.31 3.79 7 3 7C1.34 7 0 8.34 0 10C0 11.66 1.34 13 3 13C3.79 13 4.5 12.69 5.04 12.19L12.088 16.308C12.0317 16.5344 12.0022 16.7667 12 17C12 17.5933 12.1759 18.1734 12.5056 18.6667C12.8352 19.1601 13.3038 19.5446 13.8519 19.7716C14.4001 19.9987 15.0033 20.0581 15.5853 19.9424C16.1672 19.8266 16.7018 19.5409 17.1213 19.1213C17.5409 18.7018 17.8266 18.1672 17.9424 17.5853C18.0581 17.0033 17.9987 16.4001 17.7716 15.8519C17.5446 15.3038 17.1601 14.8352 16.6667 14.5056C16.1734 14.1759 15.5933 14 15 14Z"\n                            />\n                        </svg>\n                        <span class="popup-product__text">Share</span>\n                    </a>\n                    <button class="popup-product__like-button">\n                        <svg\n                            class="popup-product__icon popup-product__icon_like"\n                            viewBox="0 0 24 21"\n                            xmlns="http://www.w3.org/2000/svg"\n                        >\n                            <path\n                                d="M11.9996 18.0226C7.35982 15.3882 4.76416 12.7626 3.50744 10.4739C2.22425 8.13698 2.3302 6.15452 3.05171 4.73901C4.52988 1.83903 8.73571 0.911189 11.2936 4.14628L11.9995 5.03912L12.7055 4.14632C15.2638 0.911117 19.4699 1.83909 20.948 4.73901C21.6695 6.1545 21.7754 8.13695 20.4921 10.4738C19.2353 12.7626 16.6395 15.3882 11.9996 18.0226ZM11.9996 2.24511C8.5199 -1.14383 3.33722 0.215237 1.44802 3.92158C0.419533 5.93934 0.400427 8.55527 1.92965 11.3402C3.44655 14.1028 6.47805 17.0306 11.5642 19.8418L11.9996 20.0825L12.4349 19.8419C17.5213 17.0307 20.5529 14.1028 22.0699 11.3403C23.5992 8.55529 23.5802 5.93935 22.5517 3.92158C20.6625 0.215172 15.4796 -1.14379 11.9996 2.24511Z"\n                            />\n                        </svg>\n                        <span class="popup-product__text">Like</span>\n                    </button>\n                </div>\n            </div>\n\t    `,P="";P+=y,P+=f;let k="";if(k+=h,k+=g,k+=L,k+=P,k+=v,s.insertAdjacentHTML("beforeend",k),i++,u+i>=e.products.length)return u+=i,void t.classList.add("_blocked")}u+=i}(await s.json(),e),e.classList.remove("_hold")}else alert("something went wrong...")}}(e.target.closest(".products__load-more-button"))}));const _=document.querySelector(".actions__item.cart"),m=_.querySelector("span"),h=_.querySelector(".cart__list");let v=+m.innerHTML;a.addEventListener("click",(e=>{const t=e.target;if(t.closest(".popup-product__button")){let e=t.closest(".product");if(e.classList.contains("_added")){const t=e.dataset.prodid,s=document.querySelector(`.item-cart[data-prodid="${t}"]`);let i=s.querySelector(".quantity-cart__counter").innerHTML;s.querySelector(".quantity-cart__counter").innerHTML=++i,v++}else{e.classList.add("_added");let t=document.createElement("li");t.dataset.prodid=e.dataset.prodid,t.className="cart__item item-cart",t.insertAdjacentHTML("afterBegin",`\n                <img class="item-cart__image" src="${e.querySelector(".product__image").getAttribute("src")}" alt="">\n                <h2 class="item-cart__title">${e.querySelector(".product__title").innerHTML}</h2>\n                <span class="item-cart__price">${e.querySelector(".product__price").innerHTML}</span>\n                <div class="item-cart__quantity quantity-cart">\n                <button class="quantity-cart__button quantity-cart__button_minus">-</button>\n                <span class="quantity-cart__counter">1</span>\n                <button class="quantity-cart__button quantity-cart__button_plus">+</button>\n                </div>\n                <button class="item-cart__delete-button">\n                    <svg class="item-cart__icon" viewBox="-40 0 427 427.00131" xmlns="http://www.w3.org/2000/svg">\n                        <path\n                            d="m232.398438 154.703125c-5.523438 0-10 4.476563-10 10v189c0 5.519531 4.476562 10 10 10 5.523437 0 10-4.480469 10-10v-189c0-5.523437-4.476563-10-10-10zm0 0"\n                        />\n                        <path\n                            d="m114.398438 154.703125c-5.523438 0-10 4.476563-10 10v189c0 5.519531 4.476562 10 10 10 5.523437 0 10-4.480469 10-10v-189c0-5.523437-4.476563-10-10-10zm0 0"\n                        />\n                        <path\n                            d="m28.398438 127.121094v246.378906c0 14.5625 5.339843 28.238281 14.667968 38.050781 9.285156 9.839844 22.207032 15.425781 35.730469 15.449219h189.203125c13.527344-.023438 26.449219-5.609375 35.730469-15.449219 9.328125-9.8125 14.667969-23.488281 14.667969-38.050781v-246.378906c18.542968-4.921875 30.558593-22.835938 28.078124-41.863282-2.484374-19.023437-18.691406-33.253906-37.878906-33.257812h-51.199218v-12.5c.058593-10.511719-4.097657-20.605469-11.539063-28.03125-7.441406-7.421875-17.550781-11.5546875-28.0625-11.46875h-88.796875c-10.511719-.0859375-20.621094 4.046875-28.0625 11.46875-7.441406 7.425781-11.597656 17.519531-11.539062 28.03125v12.5h-51.199219c-19.1875.003906-35.394531 14.234375-37.878907 33.257812-2.480468 19.027344 9.535157 36.941407 28.078126 41.863282zm239.601562 279.878906h-189.203125c-17.097656 0-30.398437-14.6875-30.398437-33.5v-245.5h250v245.5c0 18.8125-13.300782 33.5-30.398438 33.5zm-158.601562-367.5c-.066407-5.207031 1.980468-10.21875 5.675781-13.894531 3.691406-3.675781 8.714843-5.695313 13.925781-5.605469h88.796875c5.210937-.089844 10.234375 1.929688 13.925781 5.605469 3.695313 3.671875 5.742188 8.6875 5.675782 13.894531v12.5h-128zm-71.199219 32.5h270.398437c9.941406 0 18 8.058594 18 18s-8.058594 18-18 18h-270.398437c-9.941407 0-18-8.058594-18-18s8.058593-18 18-18zm0 0"\n                        />\n                        <path\n                            d="m173.398438 154.703125c-5.523438 0-10 4.476563-10 10v189c0 5.519531 4.476562 10 10 10 5.523437 0 10-4.480469 10-10v-189c0-5.523437-4.476563-10-10-10zm0 0"\n                        />\n                    </svg>\n                </button>\n                `),h.append(t),v++}_.classList.contains("_active")||(_.classList.add("_active"),m.style.opacity="1",m.style.visibility="visible"),v>99?(m.innerHTML="99+",m.style.height="20px",m.style.width="20px"):(m.innerHTML=`${v}`,m.style.height="16px",m.style.width="16px")}})),h.addEventListener("click",(e=>{const t=e.target;if(e.target.classList.contains("quantity-cart__button_minus")){let s=t.nextElementSibling.innerHTML;if(s>1)t.nextElementSibling.innerHTML=--s,v--;else{e.preventDefault();const s=t.closest(".item-cart").dataset.prodid;document.querySelector(`.product[data-prodid="${s}"]`).classList.remove("_added"),t.closest(".item-cart").remove(),v--}}if(e.target.classList.contains("quantity-cart__button_plus")){let e=t.previousElementSibling.innerHTML;t.previousElementSibling.innerHTML=++e,v++}v>99?(m.innerHTML="99+",m.style.height="20px",m.style.width="20px"):(m.innerHTML=`${v}`,m.style.height="16px",m.style.width="16px"),v<1&&p()})),i.addEventListener("click",(e=>{const t=e.target;if(t.closest(".item-cart__delete-button")){e.preventDefault();let s=t.closest(".item-cart").querySelector(".quantity-cart__counter").innerHTML;const i=t.closest(".item-cart").dataset.prodid;document.querySelector(`.product[data-prodid="${i}"]`).classList.remove("_added"),v-=s,t.closest(".item-cart").remove(),m.innerHTML=`${v}`,v<1&&p()}})),i.addEventListener("click",(e=>{const t=e.target,s=document.querySelector(".cart__delete-popup"),i=document.querySelector(".cart__delete-popup-button_yes"),o=document.querySelector(".cart__delete-popup-button_no");t.classList.contains("cart__delete-button")&&(s.classList.add("_active"),i.onclick=()=>{document.querySelectorAll(".product._added").forEach((e=>{e.classList.remove("_added"),console.log(e)})),t.previousElementSibling.innerHTML="",v=0,p(),s.classList.remove("_active")},o.onclick=()=>{s.classList.remove("_active")})})),i.addEventListener("click",(e=>{const t=e.target;(t.closest(".cart__icon")||t.closest(".search-form"))&&_.classList.contains("_opened")?_.classList.remove("_opened"):t.closest(".cart__icon")&&!_.classList.contains("_opened")&&_.classList.contains("_active")&&_.classList.add("_opened")})),$(".footer__title").click((function(){document.documentElement.clientWidth<=576&&($(this).next(".footer__list").slideToggle(),$(this).parent().toggleClass("_active"))})),$(window).resize((function(){document.documentElement.clientWidth>576&&($(".footer__list").css("display","block"),$(".footer__block").hasClass("_active")&&$(".footer__block").removeClass("_active")),document.documentElement.clientWidth<576&&($(".footer__block").hasClass("_active")||$(".footer__list").css("display","none"))}))}));