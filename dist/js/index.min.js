const isMobile={Android:function(){return navigator.userAgent.match(/Android/i)},BlackBerry:function(){return navigator.userAgent.match(/BlackBerry/i)},iOS:function(){return navigator.userAgent.match(/iPhone|iPad|iPod/i)},Opera:function(){return navigator.userAgent.match(/Opera Mini/i)},Windows:function(){return navigator.userAgent.match(/IEMobile/i)},any:function(){return isMobile.Android()||isMobile.BlackBerry()||isMobile.iOS()||isMobile.Opera()||isMobile.Windows()}};function createSliderDots(e,t,s,i,o){const r=e.length,n=t;let c=document.createElement("div");c.className=`${s}`,c.style.width=27+20*(r-1)+11*(r-1)+"px";for(let e=0;e<r;e++){let t=document.createElement("div");t.className=`${i}${e+1}`,t.id=`${o}${e+1}`,c.append(t)}n.prepend(c)}document.addEventListener("DOMContentLoaded",(e=>{const t=document.querySelector(".header"),s=document.querySelector(".header__menu"),i=document.querySelector(".burger");s.addEventListener("click",(function(e){const t=e.target;if(document.documentElement.clientWidth>768)if(!t.closest(".menu__sub-list")&&t.closest(".menu__item._hover"))t.closest(".menu__item").classList.toggle("_hover");else if(t.closest(".menu__item")){let e=s.querySelector(".menu__item._hover");e&&e.classList.remove("_hover"),t.closest(".menu__item").classList.toggle("_hover")}})),s.addEventListener("mouseover",(function(e){const t=e.target,i=Array.from(s.querySelectorAll(".menu__item"));if(document.documentElement.clientWidth>768&&t.closest(".menu__item")&&!t.closest(".menu__item").classList.contains("_hover"))for(let e=0;e<i.length;e++)i[e]!=t&&i[e].classList.remove("_hover")})),document.addEventListener("click",(e=>{const t=e.target,s=document.querySelector("._hover");t.closest(".menu__item")||null==s||s.classList.remove("_hover")})),$(".menu__arrow").click((function(){document.documentElement.clientWidth<=768&&($(this).next(".menu__sub-list").slideToggle(),$(this).toggleClass("_active"))})),$(window).resize((function(){document.documentElement.clientWidth>768&&($(".menu__sub-list").css("display","block"),$(".menu__arrow").hasClass("_active")&&$(".menu__arrow").removeClass("_active")),document.documentElement.clientWidth<768&&($(".menu__arrow").hasClass("_active")||$(".menu__sub-list").css("display","none"))}));const o=document.querySelector(".search-form");o.addEventListener("click",(e=>{e.target.closest(".search-form__button_lowres")&&o.classList.toggle("_active")})),document.addEventListener("click",(e=>{const t=e.target,s=document.querySelector(".search-form");!t.closest(".search-form")&&s.classList.contains("_active")&&s.classList.remove("_active")})),i.addEventListener("click",(e=>{s.classList.toggle("_active")}));new IntersectionObserver((function(e,s){e[0].isIntersecting?t.classList.remove("_scroll"):t.classList.add("_scroll")})).observe(t)}));class Slider{constructor(e){this.sliderWrap=e.sliderWrap,this.nextBtn=e.nextBtn,this.prevBtn=e.prevBtn,this.sliderPos=e.sliderPos,this.isDragging=!1,this.startPos,this.slidesPerSwipe=e.slidesPerSwipe,this.currentTranslate,this.prevTranslate=0,this.startTime,this.endTime,this.activeDot=e.activeDot,this.sliderPages=e.sliderPages,this.activePage,this.dots=e.dots,this.sliderName=e.sliderName}touchStart(e){this.startPos=this.getPositionX(e),this.isDragging=!0,this.startTime=(new Date).getTime()}touchMove(e){if(this.isDragging){const t=this.getPositionX(e);this.currentTranslate=this.prevTranslate+t-this.startPos}}touchEnd(){this.isDragging=!1;const e=this.currentTranslate-this.prevTranslate;this.endTime=(new Date).getTime()-this.startTime,e<-150&&this.endTime<400&&this.swipeRight(),e>150&&this.endTime<400&&this.swipeLeft()}getPositionX(e){return e.type.includes("mouse")?e.pageX:e.touches[0].clientX}swipeRight(){this.sliderPos<Math.ceil(this.sliderWrap.childElementCount/this.slidesPerSwipe)-1&&(this.sliderPos+=1,this.swipeSlider(),this.changeActiveSlide())}swipeLeft(){this.sliderPos>0&&(this.sliderPos-=1,this.swipeSlider(),this.changeActiveSlide())}swipeOnDot(e){if(e.target.classList.contains(`controls-${this.sliderName}__dot`)&&!e.target.classList.contains("_active")){this.activeDot.classList.remove("_active"),e.target.classList.add("_active");let t=this.dots.firstElementChild.id.length-1;this.activeDot=e.target,this.sliderPos=e.target.id.slice(t)-1,this.sliderWrap.style.transform=`translateX(${this.sliderPos*-this.calcSlideWidth()*this.slidesPerSwipe}px)`,this.changeActiveSlide(),this.blockButtons()}}calcSlideWidth(){let e=getComputedStyle(this.activePage).width;e=e.slice(0,3);let t=getComputedStyle(this.activePage).marginRight;return t=t.slice(0,2),e=+e+ +t,e}swipeSlider(){this.sliderWrap.style.transform=`translateX(${this.sliderPos*-this.calcSlideWidth()*this.slidesPerSwipe}px)`,this.activeDot.classList.remove("_active"),this.activeDot=document.querySelector(`.controls-${this.sliderName}__dot_${this.sliderPos+1}`),this.activeDot.classList.add("_active"),this.blockButtons()}changeActiveSlide(){this.activePage.classList.remove("_active"),this.activePage=document.getElementById(`${this.sliderName}-page-${this.sliderPos*this.slidesPerSwipe+1}`),this.activePage.classList.add("_active")}blockButtons(){switch(this.sliderPos){case 0:this.prevBtn.classList.contains("_blocked")||this.prevBtn.classList.add("_blocked"),this.nextBtn.classList.contains("_blocked")&&this.nextBtn.classList.remove("_blocked");break;case Math.ceil(this.sliderWrap.childElementCount/this.slidesPerSwipe)-1:this.nextBtn.classList.contains("_blocked")||this.nextBtn.classList.add("_blocked"),this.prevBtn.classList.contains("_blocked")&&this.prevBtn.classList.remove("_blocked");break;default:this.nextBtn.classList.contains("_blocked")&&this.nextBtn.classList.remove("_blocked"),this.prevBtn.classList.contains("_blocked")&&this.prevBtn.classList.remove("_blocked")}}hideDots(){let e=Array.from(this.dots.children),t=Math.ceil(e.length/this.slidesPerSwipe);for(let s=t;s<e.length;s++)e[s].style.display="none";for(let s=0;s<t;s++)e[s].style.display="block";this.dots.style.width=11*t+20*(t-1)+"px"}}document.addEventListener("DOMContentLoaded",(e=>{createSliderDots(document.querySelectorAll(".slider-main__page"),document.querySelector(".slider-main__controls"),"slider-dots controls-slider-main__dots","slider-dots__dot controls-slider-main__dot controls-slider-main__dot_","sliderMainDot");const t=new Slider({sliderWrap:document.querySelector(".slider-main__wrapper"),nextBtn:document.querySelector("#main-slider-arrow-right"),prevBtn:document.querySelector("#main-slider-arrow-left"),sliderPos:0,slidesPerSwipe:1,activeDot:document.querySelector(".controls-slider-main__dot_1"),sliderPages:Array.from(document.querySelectorAll(".slider-main__page")),dots:document.querySelector(".controls-slider-main__dots"),sliderName:"slider-main"});t.activePage=t.sliderPages[0],t.activePage.classList.add("_active"),t.activeDot.classList.add("_active"),setTimeout((()=>{t.swipeRight()}),1e3),t.nextBtn.addEventListener("click",(()=>{t.swipeRight()})),t.prevBtn.addEventListener("click",(()=>{t.swipeLeft()})),t.dots.addEventListener("click",(e=>{t.swipeOnDot(e)})),t.sliderWrap.addEventListener("touchstart",(e=>{t.touchStart(e)})),t.sliderWrap.addEventListener("touchmove",(e=>{t.touchMove(e)})),t.sliderWrap.addEventListener("touchend",(()=>{t.touchEnd()})),t.sliderWrap.addEventListener("mousedown",(e=>{t.touchStart(e)})),t.sliderWrap.addEventListener("mouseup",(()=>{t.touchEnd()})),t.sliderWrap.addEventListener("mouseleave",(()=>{t.touchEnd()})),t.sliderWrap.addEventListener("mousemove",(e=>{t.touchMove(e)})),$(window).resize((function(){t.sliderWrap.style.transform=`translateX(${t.sliderPos*-t.calcSlideWidth()}px)`})),t.sliderPages.forEach((e=>{e.querySelector("img").addEventListener("dragstart",(e=>e.preventDefault()))}))})),document.addEventListener("DOMContentLoaded",(e=>{const t=document.querySelector(".header"),s=document.querySelector(".products__items"),i=document.querySelector(".products");let o=0;function r(){n.classList.remove("_active"),n.classList.remove("_opened"),c.style.opacity="0",c.style.visibility="hidden"}i.addEventListener("click",(function(e){e.target.closest(".products__load-more-button")&&async function(e){if(!e.classList.contains("_hold")){e.classList.add("_hold");const t="json/products.json";let i=await fetch(t,{method:"GET"});if(i.ok){!function(e,t){if(o>=e.products.length)return void t.classList.add("_blocked");let i=0;for(let r=o;r<o+4;r++){let n=e.products[r];const c=n.id,l=n.image,d=n.title,a=n.text,u=n.price,_=n.priceOld,p=(n.shareUrl,n.labels);let m=`<div data-prodid="${c}" class="products__product product">`,h="</div>",v="";if(p){let e='<div class="product__labels">',t="</div>",s="";p.forEach((e=>{s+=`<div class="product__label product__label_${e.type}">${e.value}</div>`})),v+=e,v+=s,v+=t}let g=`\n            <img class="product__image" src="${l}" alt="${d}" />\n            `,L="",S=`\n            <a href="" class="product__title">${d}</a>\n            <span class="product__description">${a}</span>\n\t        `,y="",E=`<span class="product__price">Rp ${u}</span>`,b=`<span class="product__old-price">Rp ${_}</span>`;y='<div class="product__prices">',y+=E,_&&(y+=b),y+="</div>",L+='<div class="product__content">',L+=S,L+=y,L+="</div>";let w="";w+=L,w+='\n            <div class="product__popup popup-product">\n                <div class="popup-product__actions">\n                    <a href="" class="popup-product__button">Add to cart</a>\n                    <button class="popup-product__share-button">\n                        <svg class="popup-product__icon popup-product__icon_share">\n                            <use xlink:href="#share"></use>\n                        </svg>\n                        <span class="popup-product__text">Share</span>\n                    </button>\n                    <button class="popup-product__like-button">\n                        <svg class="popup-product__icon popup-product__icon_like">\n                            <use xlink:href="#favorite"></use>\n                        </svg>\n                        <span class="popup-product__text">Like</span>\n                    </button>\n                </div>\n            </div>\n\t    ';let f="";if(f+=m,f+=v,f+=g,f+=w,f+=h,s.insertAdjacentHTML("beforeend",f),i++,o+i>=e.products.length)return o+=i,void t.classList.add("_blocked")}o+=i}(await i.json(),e),e.classList.remove("_hold")}else alert("something went wrong...")}}(e.target.closest(".products__load-more-button"))})),s.addEventListener("click",(e=>{const t=e.target,s=document.querySelector(".product._active");t.closest(".product")&&!t.classList.contains("product__title")&&(null!=s&&s.classList.remove("_active"),t.closest(".product").classList.add("_active"))})),document.addEventListener("click",(e=>{const t=e.target,s=document.querySelector(".product._active");t.closest(".product._active")||null==s||s.classList.remove("_active")}));const n=document.querySelector(".actions__item.cart"),c=n.querySelector("span"),l=n.querySelector(".cart__list");let d=+c.innerHTML;i.addEventListener("click",(e=>{const t=e.target;if(t.closest(".popup-product__button")){e.preventDefault();let s=t.closest(".product");if(s.classList.contains("_added")){const e=s.dataset.prodid,t=document.querySelector(`.item-cart[data-prodid="${e}"]`);let i=t.querySelector(".quantity-cart__counter").innerHTML;t.querySelector(".quantity-cart__counter").innerHTML=++i,d++}else{s.classList.add("_added");let e=document.createElement("li");e.dataset.prodid=s.dataset.prodid,e.className="cart__item item-cart",e.insertAdjacentHTML("afterBegin",`\n                <img class="item-cart__image" src="${s.querySelector(".product__image").getAttribute("src")}" alt="">\n                <h2 class="item-cart__title">${s.querySelector(".product__title").innerHTML}</h2>\n                <span class="item-cart__price">${s.querySelector(".product__price").innerHTML}</span>\n                <div class="item-cart__quantity quantity-cart">\n                <button class="quantity-cart__button quantity-cart__button_minus">-</button>\n                <span class="quantity-cart__counter">1</span>\n                <button class="quantity-cart__button quantity-cart__button_plus">+</button>\n                </div>\n                <button class="item-cart__delete-button">\n                    <svg class="item-cart__icon">\n                        <use xlink:href="#delete"></use>\n                    </svg>\n                </button>\n                `),l.append(e),d++}n.classList.contains("_active")||(n.classList.add("_active"),c.style.opacity="1",c.style.visibility="visible"),d>99?(c.innerHTML="99+",c.style.height="20px",c.style.width="20px"):(c.innerHTML=`${d}`,c.style.height="16px",c.style.width="16px")}})),l.addEventListener("click",(e=>{const t=e.target;if(e.target.classList.contains("quantity-cart__button_minus")){let s=t.nextElementSibling.innerHTML;if(s>1)t.nextElementSibling.innerHTML=--s,d--;else{e.preventDefault();const s=t.closest(".item-cart").dataset.prodid;document.querySelector(`.product[data-prodid="${s}"]`).classList.remove("_added"),t.closest(".item-cart").remove(),d--}}if(e.target.classList.contains("quantity-cart__button_plus")){let e=t.previousElementSibling.innerHTML;t.previousElementSibling.innerHTML=++e,d++}d>99?(c.innerHTML="99+",c.style.height="20px",c.style.width="20px"):(c.innerHTML=`${d}`,c.style.height="16px",c.style.width="16px"),d<1&&r()})),t.addEventListener("click",(e=>{const t=e.target;if(t.closest(".item-cart__delete-button")){e.preventDefault();let s=t.closest(".item-cart").querySelector(".quantity-cart__counter").innerHTML;const i=t.closest(".item-cart").dataset.prodid;document.querySelector(`.product[data-prodid="${i}"]`).classList.remove("_added"),d-=s,t.closest(".item-cart").remove(),c.innerHTML=`${d}`,d<1&&r()}})),t.addEventListener("click",(e=>{const t=e.target,s=document.querySelector(".cart__delete-popup"),i=document.querySelector(".cart__delete-popup-button_yes"),o=document.querySelector(".cart__delete-popup-button_no");t.classList.contains("cart__delete-button")&&(s.classList.add("_active"),i.onclick=()=>{document.querySelectorAll(".product._added").forEach((e=>{e.classList.remove("_added")})),t.previousElementSibling.innerHTML="",d=0,r(),s.classList.remove("_active")},o.onclick=()=>{s.classList.remove("_active")})})),t.addEventListener("click",(e=>{const t=e.target;(t.closest(".cart__icon")||t.closest(".search-form"))&&n.classList.contains("_opened")?n.classList.remove("_opened"):t.closest(".cart__icon")&&!n.classList.contains("_opened")&&n.classList.contains("_active")&&n.classList.add("_opened")}))})),document.addEventListener("DOMContentLoaded",(e=>{createSliderDots(document.querySelectorAll(".slider-rooms__page"),document.querySelector(".slider-rooms__controls"),"slider-dots controls-slider-rooms__dots","slider-dots__dot controls-slider-rooms__dot controls-slider-rooms__dot_","sliderRoomsDot");const t=new Slider({sliderWrap:document.querySelector(".slider-rooms__wrapper"),nextBtn:document.querySelector("#rooms-slider-arrow-right"),prevBtn:document.querySelector("#rooms-slider-arrow-left"),sliderPos:0,slidesPerSwipe:1,activeDot:document.querySelector(".controls-slider-rooms__dot_1"),sliderPages:Array.from(document.querySelectorAll(".slider-rooms__page")),dots:document.querySelector(".controls-slider-rooms__dots"),sliderName:"slider-rooms"});t.activePage=t.sliderPages[0],t.activeDot.classList.add("_active"),t.activePage.classList.add("_active"),t.dots.children[0].style.opacity="0",t.dots.children[t.dots.childElementCount-1].style.opacity="0",t.dots.children[t.dots.childElementCount-2].style.opacity="0",t.dots.children[t.dots.childElementCount-3].style.opacity="0",setTimeout((()=>{t.swipeRight()}),1e3),t.calcSlideWidth=()=>{let e;e=t.activePage.nextElementSibling?getComputedStyle(t.activePage.nextElementSibling).width:getComputedStyle(t.activePage.previousElementSibling).width,e=e.slice(0,3);let s=getComputedStyle(t.activePage).marginRight;return s=s.slice(0,2),e=+e+ +s,e},t.swipeRight=()=>{t.unlockAnimations(),t.sliderPos<t.sliderWrap.childElementCount-4?(t.sliderPos+=1,t.swipeSlider(),t.changeActiveSlide()):t.nextBtn.classList.contains("_blocked")||(t.sliderPos+=1,t.swipeSlider(),t.changeActiveSlide(),setTimeout((()=>{t.lockAnimations(),t.sliderPos=1,t.swipeSlider(),t.changeActiveSlide()}),600))},t.swipeLeft=()=>{t.unlockAnimations(),t.sliderPos>1?(t.sliderPos-=1,t.swipeSlider(),t.changeActiveSlide()):t.nextBtn.classList.contains("_blocked")||(t.sliderPos-=1,t.swipeSlider(),t.changeActiveSlide(),setTimeout((()=>{t.lockAnimations(),t.sliderPos=6,t.swipeSlider(),t.changeActiveSlide()}),600))},t.blockButtons=()=>{switch(t.sliderPos){case 0:t.prevBtn.classList.contains("_blocked")||t.prevBtn.classList.add("_blocked"),t.nextBtn.classList.contains("_blocked")||t.nextBtn.classList.add("_blocked");break;case t.sliderWrap.childElementCount-3:t.nextBtn.classList.contains("_blocked")||t.nextBtn.classList.add("_blocked"),t.prevBtn.classList.contains("_blocked")||t.prevBtn.classList.add("_blocked");break;default:t.nextBtn.classList.contains("_blocked")&&t.nextBtn.classList.remove("_blocked"),t.prevBtn.classList.contains("_blocked")&&t.prevBtn.classList.remove("_blocked")}},t.lockAnimations=()=>{t.sliderWrap.style.transition="none",$(".page-slider-rooms__image").css("transition","none"),$(".page-slider-rooms__content").css("transition","none")},t.unlockAnimations=()=>{t.sliderWrap.style.transition="",$(".page-slider-rooms__image").css("transition",""),$(".page-slider-rooms__content").css("transition","")},t.nextBtn.addEventListener("click",(()=>{t.swipeRight()})),t.prevBtn.addEventListener("click",(()=>{t.swipeLeft()})),t.dots.addEventListener("click",(e=>{t.unlockAnimations(),t.swipeOnDot(e)})),t.sliderWrap.addEventListener("touchstart",(e=>{t.touchStart(e)})),t.sliderWrap.addEventListener("touchmove",(e=>{t.touchMove(e)})),t.sliderWrap.addEventListener("touchend",(()=>{t.touchEnd()})),t.sliderWrap.addEventListener("mousedown",(e=>{t.touchStart(e)})),t.sliderWrap.addEventListener("mouseup",(()=>{t.touchEnd()})),t.sliderWrap.addEventListener("mouseleave",(()=>{t.touchEnd()})),t.sliderWrap.addEventListener("mousemove",(e=>{t.touchMove(e)})),$(window).resize((function(){setTimeout((()=>{t.sliderWrap.style.transform=`translateX(${t.sliderPos*-t.calcSlideWidth()}px)`}),1500)})),t.sliderPages.forEach((e=>{e.querySelector("img").addEventListener("dragstart",(e=>e.preventDefault()))}))})),document.addEventListener("DOMContentLoaded",(e=>{createSliderDots(document.querySelectorAll(".slider-tips__page"),document.querySelector(".slider-tips__controls"),"slider-dots controls-slider-tips__dots","slider-dots__dot controls-slider-tips__dot controls-slider-tips__dot_","sliderTipsDot");let t=3;document.documentElement.clientWidth<1350&&(t=2),document.documentElement.clientWidth<768&&(t=1);const s=new Slider({sliderWrap:document.querySelector(".slider-tips__wrapper"),nextBtn:document.querySelector("#tips-slider-arrow-right"),prevBtn:document.querySelector("#tips-slider-arrow-left"),sliderPos:0,slidesPerSwipe:t,activeDot:document.querySelector(".controls-slider-tips__dot_1"),sliderPages:Array.from(document.querySelectorAll(".slider-tips__page")),dots:document.querySelector(".controls-slider-tips__dots"),sliderName:"slider-tips"});s.activePage=s.sliderPages[0],s.activeDot.classList.add("_active"),s.activePage.classList.add("_active"),s.blockButtons(),s.hideDots(),s.nextBtn.addEventListener("click",(()=>{s.swipeRight()})),s.prevBtn.addEventListener("click",(()=>{s.swipeLeft()})),s.dots.addEventListener("click",(e=>{s.swipeOnDot(e)})),s.sliderWrap.addEventListener("touchstart",(e=>{s.touchStart(e)})),s.sliderWrap.addEventListener("touchmove",(e=>{s.touchMove(e)})),s.sliderWrap.addEventListener("touchend",(()=>{s.touchEnd()})),s.sliderWrap.addEventListener("mousedown",(e=>{s.touchStart(e)})),s.sliderWrap.addEventListener("mouseup",(()=>{s.touchEnd()})),s.sliderWrap.addEventListener("mouseleave",(()=>{s.touchEnd()})),s.sliderWrap.addEventListener("mousemove",(e=>{s.touchMove(e)})),$(window).resize((function(){s.sliderWrap.style.transform=`translateX(${s.sliderPos*-s.calcSlideWidth()*s.slidesPerSwipe}px)`,document.documentElement.clientWidth>1350&&3!=s.slidesPerSwipe&&(s.slidesPerSwipe=3,s.hideDots(),s.sliderPos=0,s.swipeSlider()),document.documentElement.clientWidth>=768&&document.documentElement.clientWidth<=1350&&2!=s.slidesPerSwipe&&(s.slidesPerSwipe=2,s.hideDots(),s.sliderPos=0,s.swipeSlider()),document.documentElement.clientWidth<768&&1!=s.slidesPerSwipe&&(s.slidesPerSwipe=1,s.sliderPos=0,s.swipeSlider())})),s.sliderPages.forEach((e=>{e.querySelector("img").addEventListener("dragstart",(e=>e.preventDefault()))}))})),$(".footer__title").click((function(){document.documentElement.clientWidth<=576&&($(this).next(".footer__list").slideToggle(),$(this).parent().toggleClass("_active"))})),$(window).resize((function(){document.documentElement.clientWidth>576&&($(".footer__list").css("display","block"),$(".footer__block").hasClass("_active")&&$(".footer__block").removeClass("_active")),document.documentElement.clientWidth<576&&($(".footer__block").hasClass("_active")||$(".footer__list").css("display","none"))}));